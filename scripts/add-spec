#!/bin/bash

AGENT64_HOME="$HOME/.agent64"
TEMPLATES_DIR="$AGENT64_HOME/templates"

SPEC_DIR="specs"
SPEC_FILE="$SPEC_DIR/spec.yml"

echo "üìÑ Initializing spec..."

# Create specs directory if it doesn't exist
if [ ! -d "$SPEC_DIR" ]; then
  mkdir "$SPEC_DIR"
  echo "üìÅ Created directory: specs/"
fi

# Do not overwrite existing spec
if [ -f "$SPEC_FILE" ]; then
  echo "‚ö†Ô∏è  $SPEC_FILE already exists, skipping"
  exit 0
fi

if [ -f "$TEMPLATES_DIR/spec.yml" ]; then
  cp "$TEMPLATES_DIR/spec.yml" "$SPEC_FILE"
  echo "‚úÖ Created spec: $SPEC_FILE"
else
  echo "‚ùå Template not found: spec.yml"
fi
