#!/bin/bash

AGENT64_HOME="$HOME/.agent64"
TEMPLATES_DIR="$AGENT64_HOME/templates"

PROMPT_DIR="prompts"
PROMPT_FILE="$PROMPT_DIR/agent-prompt.txt"
TEMPLATE_FILE="$TEMPLATES_DIR/agent-prompt.txt"

echo "üß† Initializing agent-prompt..."

# Create prompts directory if it doesn't exist
if [ ! -d "$PROMPT_DIR" ]; then
  mkdir "$PROMPT_DIR"
  echo "üìÅ Created directory: prompts/"
fi

# Do not overwrite existing file
if [ -f "$PROMPT_FILE" ]; then
  echo "‚ö†Ô∏è  $PROMPT_FILE already exists, skipping"
  exit 0
fi

if [ ! -f "$TEMPLATE_FILE" ]; then
  echo "‚ùå Template not found: $TEMPLATE_FILE"
  exit 1
fi

cp "$TEMPLATE_FILE" "$PROMPT_FILE"
echo "‚úÖ Created prompt: $PROMPT_FILE"
